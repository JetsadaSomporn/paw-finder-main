# ğŸ“‹ à¸„à¸¹à¹ˆà¸¡à¸·à¸­ Setup Supabase à¸ªà¸³à¸«à¸£à¸±à¸š Paw Finder

## ğŸ”‘ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 1: à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ API Keys
âœ… **à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§** - à¹„à¸Ÿà¸¥à¹Œ .env à¸¡à¸µ:
```
VITE_SUPABASE_URL=https://djhyjpltfiqukofumlij.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIs...
```

## ğŸ—ƒï¸ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 2: à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (Schema)

### à¸•à¸²à¸£à¸²à¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸ªà¸£à¹‰à¸²à¸‡:

#### 1. **lost_pets** (à¸•à¸²à¸£à¸²à¸‡à¸«à¸¥à¸±à¸ - à¸ªà¸±à¸•à¸§à¹Œà¸«à¸²à¸¢)
```sql
- id (UUID)
- pet_name (à¸Šà¸·à¹ˆà¸­à¸ªà¸±à¸•à¸§à¹Œ)
- breed (à¸ªà¸²à¸¢à¸à¸±à¸™à¸˜à¸¸à¹Œ)
- colors (à¸ªà¸µ)
- province (à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”)
- contact_name (à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­)
- contact_phone (à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£)
- contact_email (à¸­à¸µà¹€à¸¡à¸¥)
- reward (à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™)
- status (à¸ªà¸–à¸²à¸™à¸°: active/found/closed)
- à¹à¸¥à¸°à¸­à¸·à¹ˆà¸™à¹† à¸­à¸µà¸à¸«à¸¥à¸²à¸¢à¸Ÿà¸´à¸¥à¸”à¹Œ
```

#### 2. **found_pets** (à¸•à¸²à¸£à¸²à¸‡à¸ªà¸±à¸•à¸§à¹Œà¹€à¸ˆà¸­à¹à¸¥à¹‰à¸§)
```sql
- id, pet_type, breed, color
- found_date, location, province
- contact_name, contact_phone, contact_email
- status
```

#### 3. **lost_cat_images** (à¸•à¸²à¸£à¸²à¸‡à¸£à¸¹à¸›à¸ à¸²à¸à¸ªà¸±à¸•à¸§à¹Œà¸«à¸²à¸¢)
```sql
- id, lost_cat_id, image_url
```

#### 4. **found_pet_images** (à¸•à¸²à¸£à¸²à¸‡à¸£à¸¹à¸›à¸ à¸²à¸à¸ªà¸±à¸•à¸§à¹Œà¹€à¸ˆà¸­)
```sql
- id, found_pet_id, image_url
```

## ğŸ” à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 3: à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Security (RLS & Policies)

### Row Level Security (RLS):
- âœ… à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ RLS à¸šà¸™à¸—à¸¸à¸à¸•à¸²à¸£à¸²à¸‡
- âœ… à¸à¸³à¸«à¸™à¸” Policies à¹ƒà¸«à¹‰:
  - à¸—à¸¸à¸à¸„à¸™à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸”à¹‰
  - à¹€à¸‰à¸à¸²à¸°à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸±à¸§à¹€à¸­à¸‡à¹„à¸”à¹‰

## ğŸ“ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 4: Setup Storage Buckets
```
- lost-pet-images (à¹€à¸à¹‡à¸šà¸£à¸¹à¸›à¸ªà¸±à¸•à¸§à¹Œà¸«à¸²à¸¢)
- found-pet-images (à¹€à¸à¹‡à¸šà¸£à¸¹à¸›à¸ªà¸±à¸•à¸§à¹Œà¹€à¸ˆà¸­)
```

## ğŸš€ à¸§à¸´à¸˜à¸µà¸à¸²à¸£ Setup:

### à¹à¸šà¸šà¸—à¸µà¹ˆ 1: à¹ƒà¸Šà¹‰ SQL Editor à¹ƒà¸™ Supabase Dashboard
```
1. à¹€à¸‚à¹‰à¸² https://supabase.com/dashboard
2. à¹€à¸¥à¸·à¸­à¸à¹‚à¸›à¸£à¹€à¸ˆà¸„
3. à¹„à¸›à¸—à¸µà¹ˆ SQL Editor
4. Copy & Paste à¹„à¸Ÿà¸¥à¹Œ .sql à¸—à¸µà¸¥à¸°à¹„à¸Ÿà¸¥à¹Œà¸•à¸²à¸¡à¸¥à¸³à¸”à¸±à¸š
5. Run à¸—à¸µà¸¥à¸°à¹„à¸Ÿà¸¥à¹Œ
```

### à¹à¸šà¸šà¸—à¸µà¹ˆ 2: à¹ƒà¸Šà¹‰ Supabase CLI (à¸‡à¹ˆà¸²à¸¢à¸à¸§à¹ˆà¸²)
```bash
npx supabase init
npx supabase db reset
```

## ğŸ“‹ à¹„à¸Ÿà¸¥à¹Œ Migration à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸£à¸±à¸™ (15 à¹„à¸Ÿà¸¥à¹Œ):
```
supabase/migrations/
â”œâ”€â”€ 20250604111317_stark_base.sql        â† à¸•à¸²à¸£à¸²à¸‡à¸«à¸¥à¸±à¸ (lost_cats)
â”œâ”€â”€ 20250604112528_violet_art.sql        â† à¹€à¸à¸´à¹ˆà¸¡à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ
â”œâ”€â”€ 20250604112658_shrill_scene.sql      â† à¹à¸à¹‰à¹„à¸‚ schema
â”œâ”€â”€ 20250604112926_warm_valley.sql       â† à¹€à¸à¸´à¹ˆà¸¡ validation
â”œâ”€â”€ 20250604124537_dry_flame.sql         â† à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸•à¸²à¸£à¸²à¸‡
â”œâ”€â”€ 20250604132415_divine_villa.sql      â† à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸›à¹‡à¸™ lost_pets
â”œâ”€â”€ 20250604133200_fragrant_summit.sql   â† à¹€à¸à¸´à¹ˆà¸¡ fields
â”œâ”€â”€ 20250604140000_found_pets_schema.sql â† à¸•à¸²à¸£à¸²à¸‡ found_pets
â”œâ”€â”€ 20250604150000_add_coordinates_to_lost_pets.sql â† GPS
â”œâ”€â”€ 20250613162302_remote_schema.sql     â† à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¹ƒà¸«à¸à¹ˆ
â”œâ”€â”€ 20250623154047_remote_schema.sql     â† Schema à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
â”œâ”€â”€ 20250626075635_allow_insert_lost_pets_rls.sql â† Security
â”œâ”€â”€ 20250626080133_allow_crud_pet_images_rls.sql  â† Security à¸£à¸¹à¸›
â”œâ”€â”€ 20250626081414_allow-anyone-found-pet-bucket.sql â† Storage
â””â”€â”€ 20250626130015_add_sex_and_collar_to_pets.sql â† à¹€à¸à¸´à¹ˆà¸¡à¸Ÿà¸´à¸¥à¸”à¹Œ
```

## âœ… à¸§à¸´à¸˜à¸µà¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² Setup à¸ªà¸³à¹€à¸£à¹‡à¸ˆ:
```bash
npm run test-db
```

## ğŸ†˜ à¸–à¹‰à¸²à¸•à¸´à¸”à¸›à¸±à¸à¸«à¸²:
1. **Schema à¹„à¸¡à¹ˆà¸•à¸£à¸‡** â†’ à¸£à¸±à¸™ migration files à¹ƒà¸«à¸¡à¹ˆ
2. **RLS Error** â†’ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š policies
3. **Storage Error** â†’ à¸ªà¸£à¹‰à¸²à¸‡ buckets à¹ƒà¸«à¸¡à¹ˆ

---
**ğŸ’¡ à¸ªà¸£à¸¸à¸›:** à¸•à¹‰à¸­à¸‡à¸£à¸±à¸™ 15 à¹„à¸Ÿà¸¥à¹Œ .sql à¸•à¸²à¸¡à¸¥à¸³à¸”à¸±à¸š à¹€à¸à¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡ + security + storage à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
